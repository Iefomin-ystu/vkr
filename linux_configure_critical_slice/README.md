linux_configure_critical_slice
=========

## Ограничения
- Роль конфигурирует auditd сервис, но не перезапускает его
- Роль конфигурирует telegraf сервис, но не перезапускает его, если он не установлен

## Autodoc

<p style="text-align: center;">Блок документации сформирован автоматически</p>

---

### Описание

linux_configure_critical_slice - Настройка hostcritical.slice и добавление в него критичных сервисов.

### Требования

- Минимальная версия ansible: 2.15
- Коллекции:
- Роли:

### Поддерживаемые платформы

Поддерживаемые операционные системы с версиями

- EL:
  - 9

### Переменные окружения

| Название         | Обязательный             | Описание         | Пример       |
| ------------------------ | ------------------------------------ | ------------------------ | ------------------ |

### Default'ные переменные

| Название         | Тип    | Значение         | Описание         |
| ------------------------ | --------- | ------------------------ | ------------------------ |

### Обязательные и необязательные параметры

| Название              | Тип    | Обязательный             | Значение         | Описание                                                                                      |
| ----------------------------- | --------- | ------------------------------------ | ------------------------ | ----------------------------------------------------------------------------------------------------- |
| systemd_server_reboot | bool   | true                     | true, false      | Признак необходимости перезагрузки сервера ролью.                                             |

### Предопределённые переменные

| Название                   | Тип    | Значение                                                                                 | Описание                                                                    |
| ---------------------------------- | --------- | ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |
| systemd__critical_services | list   | [sshd sssd chronyd auditd systemd-journald systemd-logind systemd-oomd rsyslog telegraf] | Список сервисов, добавляемых к hostcritical.slice                           |


### Возвращаемые параметры
| Название         | Описание         | Значение         |
| ------------------------ | ------------------------ | ------------------------ |


### Примеры использования

```yaml
- name: Configure slice for critical systemd services
  hosts: all
  roles:
    - role: tensor.linux.linux_configure_critical_slice
      vars:
        systemd_server_reboot: true
```


---
<p style="text-align: center;">Блок документации сформирован автоматически</p>
